# マークアップエンジニアの方がフロントエンドエンジニアになる為の課題

課題を始める前にここの右上の[star☆](https://github.com/kenmori/handsonFrontend/stargazers)を押下していただけるとやる気出ます。
[作成者](http://kenjimorita.jp/)


## DOM構築

### 1.このDOMをhtml内のulの中に差し込んでください

```html
<li>これです</li>
```

[playground](https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html)

### 2.このDOMをJavaScriptでつくり、html内のulの中に差し込んでください


```html
<li>
  <a href="1.html"><img src="bookmark.png" alt="ブックマーク" />これです</a>
</li>
```

[playground](https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html)

### 3.

このDOM

```html
<ul>
  <li><a href="a1.html"><img src="/img/bookmark.png">a1</li>
  <li><a href="a2.html"><img src="/img/bookmark.png">a2</li>
</ul>
```

をJavaScriptでつくり、html内のulの中に差し込んでください
[https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html](https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html)

### 4

```js
[{to: "bookmark.html", img: "1.png", alt:"画像1", text: "ブックマーク"}, {to: "message.html", img: "2.png", alt:"画像2", text: "メッセージ"}]
```

という配列を使って
htmlの中でJavaScriptで

```html
<ul>
 <li><a href="/bookmark.html"><img src="1.png" alt="画像1">ブックマーク</a></li>
 <li><a href="/message.html"><img src="2.png" alt="画像2">メッセージ</a></li>
</ul>
```

ブラウザ出力がこのようになるようにしてください

## DOM構築とPromiseオブジェクト
### 5

`4`のこちらをつかって、こんどはPromiseオブジェクトを使って**解決された値**として受け取り、

```js
[{to: "bookmark.html", img: "1.png", alt:"画像1", text: "ブックマーク"}, {to: "message.html", img: "2.png", alt:"画像2", text: "メッセージ"}]
```

同じように

```html
<ul>
 <li><a href="/bookmark.html"><img src="1.png" alt="画像1">ブックマーク</a></li>
 <li><a href="/message.html"><img src="2.png" alt="画像2">メッセージ</a></li>
</ul>
```

こちらの出力になるようにしてください

### 6

5で作ったものを3秒後に解決されるようにしてください

## ローディング実装
### 7

loadingを実装してみてください。
このようなローディング実装を作ってください。

<img src="https://terracetech.jp/wp-content/uploads/2020/10/a-3.gif" />

resolveになるまでの間にloading画像をだして、終わったら除く
今持っている知識でできるはずです。
どうすればできそうか書く前に考えましょう。
これはサーバーから値が渡ってくるまではそれを出して、渡ってきたら値を加工してhtmlとして書き出すを想定しています
[素材はこちら](https://terracetech.jp/download/gif-loading-image/)

### 8

つぎはresolveで解決するのではなく(resolveを実行するのではなく)
3秒後にrejectを実行してthenでその値をコンソール出力してください。ローディングはぐるぐる状態で良いです。

いままでresolveとしていたところでrejectを実行して、エラーを起こしてcatch節でエラーをキャッチしてください

### 9

async awaitを使って同じことをやってください。rejectは考慮しないでいいです。問題7をasync awaitを使って書いてください

### 10

問題9に追加で
try-catch-finaliy
を書いてください

## 擬似的にAPIを扱う
### 11

簡易的なAPIを使って同じことをこちらの[サイト](https://json.okiba.me/)に

```js
{ "data": [
  {
    "a": "bookmark",
    "img": "img/1.png",
    "alt": "画像１",
    "text": "ブックマーク"
  },
  {
    "a": "message",
    "img": "img/2.png",
    "alt": "画像２",
    "text": "メッセージ"
  }
]}
```

上記を登録してエンドポイントを取得
前回までのコードを生かして
[fetch](https://developer.mozilla.org/ja/docs/Web/API/Fetch_API/Using_Fetch)を使ってデータを取得してください

取得したデータは前回と同じように表示してください

### 12

クリックしたらリクエストをして、それらが表示されるようにしてください

### 13

クリックしたらモーダルが出てきて、12で作ったボタンを押したらリクエストされ表示するようにしてください

### 14

13で作ったモーダル内にinput (typeはnumber)をおいて、クリックした際にinput(type number)のvalueを取得して、リクエストできるようにしてください。(その値はPromiseを実行する手前でconsole.log出力されていればいいです)

## モーダル作成
### 15

モーダル内に
formをおいて、input(type number)値、input(type text)、を新たに作ったsubmitボタン押下で
リクエスト、
APIから値を取ってきてください

<img src="https://kenjimorita.jp/wp-content/uploads/2021/01/fff.png" width="300" />

## ニュースUIコンポーネント作成
### 16

<img src="https://kenjimorita.jp/wp-content/uploads/2021/01/P1.png" width="300" />


これはyahooのトップページを模したUIですが、これをデータとしてどのようなものがサーバーがから返ってくれば実現できそうか、データ構造から考えて、静的なデータ(前回までのようなresolveされると返されるベタ書きのデータ)を作って、画面表示させてみてください。

仕様は
-  それぞれのカテゴリタブを開くことができてそれぞれのジャンルに応じた記事が4つ表示できる。(記事のタイトル名は適当)
- それぞれのカテゴリにはそれぞれ固有の画像が入る(右側四角。画像は適当)
- 記事にはnewという新着かどうかのラベルがつく(どこの記事にそれが入るかは適当でいいです)
-  記事にはそれぞれコメントがあり、0件なら表示しない、1以上ならアイコンと共に数字が表示される
- カテゴリタブは切り替えられる。面倒なら2つのカテゴリだけでよいです。その場合ニュースと経済だけにします
- どのカテゴリタブを初期表示時に選んでいるかはデータとして持っている
-  htmlはulだけ作ってあとはcreateElementで作る
- try-catchでエラー時はulの中に「ただいまサーバー側で通信がぶっ壊れています」みたいなテキストを画面内に表示すること
- CSSはなしで良い。上記機能要件だけ満たしていればいい


です

## スライドショー作成
### 17

よくあるスライドショーを作ってみましょう

<img src="https://terracetech.jp/wp-content/uploads/2021/02/もりけんじゅく-P1-6.png" width="300" />

- 仕様

1. 画面遷移してから3秒後に解決されるPromiseが返すオブジェクトを元にimgタグを5つつくる。

[以前使ったこちらを使う](https://json.okiba.me/)

2. それぞれは.z-indexで重ねた状態。クリックを押すと画像が変わる

3. 5枚中何枚目かを表示して、5/5の場合Nextの矢印はdisabledにする。1/5枚の時はBackボタンはdisabledにする

### 18

スライドショーにドットのページネーションを作りましょう

<img src="https://terracetech.jp/wp-content/uploads/2021/03/2.png" width="300" />

それぞれのドットではクリッカブルになっていて、押下するとその画像に切り替わります。それとともに1/5も切り替わります。
また、3秒毎に次のスライドに自動で切り替わる`auto`機能を提供してください。


## ニュースUIコンポーネントとスライドショーを合わせる
### 19

コンテンツUIとスライドショーを併せたページを作ってください。

<img src="https://terracetech.jp/wp-content/uploads/2021/03/3.png" width="300" />

## ユーザーテーブル作成

### 20


<img src="https://terracetech.jp/wp-content/uploads/2021/02/もりけんじゅく-P1-2.png" width="300" />

- こちらのようなテーブルを画面遷移してから3秒後に解決されるPromiseが返すオブジェクトを元に作ってください。


## ユーザーテーブルにソート機能実装

[素材はこちら](https://terracetech.jp/download/resource-table/)
### 21

<img src="https://terracetech.jp/wp-content/uploads/2021/03/1.png" width="300" />

1. こちらのようなテーブルを画面遷移してから3秒後に解決されるPromiseが返すオブジェクトを元に作り、
idがソートできる機能を作ってください

2. ソートは通常時はidが適当でもよく

3. ソートが昇順の場合は上矢印がアクティブ、下矢印がdisabled、1,2,3,4,5の順番で表示され、降順の場合はその逆、

通常時の矢印クリック(クリッカブル領域は2つの矢印です。上下別々のクリッカブル領域でではなく)を押すと画像のように変化します


### 22

<img src="https://terracetech.jp/wp-content/uploads/2021/02/もりけんじゅく-P1-4.png" width="300" />

同じことを年齢でもやってください。

## ユーザーテーブルにページネーションを実装する
※ deprecated。飛ばしてください
### 23

ページネーションを足してください

<img src="https://terracetech.jp/wp-content/uploads/2021/02/もりけんじゅく-P1-5.png" width="300" />

1. 適当ないつもの順番で得るオブジェクトを作る
25件のユーザー数をもつオブジェクト
初期状態は1/10として左矢印はdisabled、右矢印をクリックすると2/5となり、3/5...5/5となる

ものを作ってください。表示する数はそれぞれ例えば

オブジェクトがを持っている場合

1/5の時id1~5, 2/5の時6~10, 3/5の時、11~15, 4/5の時16~20, 5/5の時21~25と表示されるようにする

2. ソートをいじると初期化された状態で1/5に戻り、それぞれソートされた状態でページングできるようにする


## 会員登録画面作成
### 24

会員登録画面(`register.html`)を作ります

<img src="https://terracetech.jp/wp-content/uploads/2021/03/4.png" width="300" />

**仕様**

- バリデーションはここではなし
- ユーザー名、メールアドレス、パスワードの入力欄と利用規約に関するチェックボックス(画像参照)がある。
- 送信ボタンがあるが振るまいの実装はしないで良い
- 利用規約のテキストを押すと、モーダルが立ち上がり(前回作ったもので良い)、ダミーの利用規約がテキストとして読める。スクロールが一番下に行ったらチェックボックスはcheckedになる。もし開いてもスクロールが下まで行っていなければcheckedはfalseのまま
- checkedがtrueの場合送信ボタンを押下すると別ページの`register-done.html`に飛ぶ
- `register-done.html`は画面のようなテキストになっている(画面は適当で、遷移できていることが分かれば良い。CSSも書かないでも良い)

## 会員登録画面にバリデーションを実装

### 25

バリデーションを追加します

<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P1.png" width="300" />

**仕様**
- 初回は送信ボタンとチェックボックスはdisabled状態。CSSは画像のように灰色にしてください

- ユーザー名は16文字未満とし、もしinvalidならバリデーションテキストは
「ユーザー名は15文字以下にしてください。」
- メールアドレスは一般的なメール形式のバリデーションにしてください。もしinvalidならバリデーションテキストは「メールアドレスの形式になっていません。」
- パスワードのバリデーションは8文字以上の大小の英数字を交ぜたものとし、もしinvalidならバリデーションテキストは「8文字以上の大小の英数字を交ぜたものにしてください。」

- 利用規約のスクロール実装に併せて、チェックボックスのdisabledは外し、checkedになる

- 全ての入力がvalidの場合にのみ送信ボタンは緑色になり押下でき、`register-done.html`に遷移できる。

## ログイン画面作成
### 26

ログイン画面(`login.html`)を作ります


<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P2.png" width="300" />

**仕様**
- ユーザー名、パスワードの実装は25と同じ。
- パスワード忘れてた方 `forgotpassword.html`を作って遷移できるようにしてください。ページ内の実装はしないで良いです。
- `会員登録はこちら`から課題24,25で作った`register.html`へ遷移できる。
- パスワードは仮に`N302aoe3`とし、ユーザー名はご自身の決めた値でokです
- トークンというサーバー側で発行された値を持っていることとします。

送信ボタン押下時に

```js
{
  name: "kejimorita",
  password: "N302aoe3",
  token: "far0fja*ff]afaawfqrlzkfq@aq9283af"
}
```

というものがsubmitの引数として渡ってきたら
tokenがあるかチェックしてください。もしなければ
ログインに失敗しましたページへ
もし上記の値を持っていたら
ローカルストレージに
`{token: far0fja*ff]afaawfqrlzkfq@aq9283af}`
として埋め込んでください。

※ローカルストレージに関しての危険性は[ローカルストレージは使うな](https://www.rdegges.com/2018/please-stop-using-local-storage/)を一読のこと。ここではあくまで学習の為に使います。

ここでの課題はそれが確認できればokです。

### 27

`index.html`ページ遷移時に
**学習の為のローカルストレージのトークン**を参照して
もし
`{token: far0fja*ff]afaawfqrlzkfq@aq9283af}`の値があれば
作ったコンテンツUI画面を
何もない場合はログイン画面(`login.html`)に遷移するように作ってください



## 一息
ここまではバニラなJavaScriptを使って実装してきました。
今度はnpmを使ってパッケージ管理しながらReactライブラリで実装していきます。


## 開発環境構築
### 1

プロジェクト管理できるようにしましょう
nodeを最新のLTSで触るための環境を作ってください

- brewをインストール
- nvmをインストール

### 2.設定編
### 3.最小限のwebpack構成を構築する



## Reactを扱う

[react-setting]()で

### React課題

### 1.コンポーネントを書く

<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P3.png" width="300">

これは親です。divで出力されているものと思ってください

```html
<div>これは親です</div>
```
これをReactで書いてください

### 2.子コンポーネントを書く

<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P4.png" width="300">

これは子供です。親の中で出力されているものと思ってください

```html
<div>
  これは親です
  <div>子供です</div>
</div>
```

- 子供と親のファイルは別で管理して親からimportして出力してください


### 3.名前を親から子供に渡して表示する

こちら


<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P5.png" width="300">

```html
<div>
  これは親です
  <div>[your name]です</div>
</div>
```

yournameのところをご自身の名前にしてください。

- 名前は親からpropsとして渡してください

### 4.名前を親から子供に渡して表示する


<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P6.png" width="300">

<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P7.png" width="300">
<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P8.png" width="300">
<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P9.png" width="300">
<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P10.png" width="300">
<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P11.png" width="300">
<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P12.png" width="300">

<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P13.png" width="300">

<img src="https://kenjimorita.jp/wp-content/uploads/2021/03/もりけんじゅく-P14.png" width="300">

実際に公開されているAPIに触れてみましょう

[news API](https://newsapi.org/)

[getStarted](https://newsapi.org/docs/get-started)


```js
const proxyUrl = "https://cors-anywhere.herokuapp.com/" // localhostでリクエストするためのもの see: https://stackoverflow.com/a/43881141
const apiKey = "";
const url = `${proxyUrl}http://newsapi.org/v2/top-headlines?` +
          'country=us&' +
          'apiKey=[your-api]';
const request = new Request(url);

fetch(request)
  .then(response => response.json())
  .then((news) => {
    console.log(news);
  })
  .catch(error => {
    console.log(error);
  });
```

cd next-swr-app

yarn install

[see](https://dev.to/ibrahima92/data-fetching-in-next-js-how-to-use-swr-34gn#what-is-swr)


code .

yarn dev