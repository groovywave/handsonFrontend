# マークアップエンジニアの為の課題 Work

## 1

このDOM

```html
<li>これです</li>
```


をhtml内のulの中に差し込んでください

[https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html](https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html)

## 2

このDOM

```html
<li>
  <a href="1.html"><img src="bookmark.png" alt="ブックマーク" />これです</a>
</li>
```

をJavaScriptでつくり、html内のulの中に差し込んでください

[https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html](https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html)

## 3

このDOM

```html
<ul>
  <li><a href="a1.html"><img src="/img/bookmark.png">a1</li>
  <li><a href="a2.html"><img src="/img/bookmark.png">a2</li>
</ul>
```

をJavaScriptでつくり、html内のulの中に差し込んでください
[https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html](https://codesandbox.io/s/thirsty-paper-b58hj?file=/index.html)

## 4

```js
[{to: "bookmark.html", img: "1.png", alt:"画像1", text: "ブックマーク"}, {to: "message.html", img: "2.png", alt:"画像2", text: "メッセージ"}]
```

という配列を使って
htmlの中でJavaScriptで

```html
<ul>
 <li><a href="/bookmark.html"><img src="1.png" alt="画像1">ブックマーク</a></li>
 <li><a href="/message.html"><img src="2.png" alt="画像2">メッセージ</a></li>
</ul>
```

ブラウザ出力がこのようになるようにしてください


## 5

`4`のこちらをつかって、こんどはPromiseオブジェクトを使って**解決された値**として受け取り、

```js
[{to: "bookmark.html", img: "1.png", alt:"画像1", text: "ブックマーク"}, {to: "message.html", img: "2.png", alt:"画像2", text: "メッセージ"}]
```

同じように

```html
<ul>
 <li><a href="/bookmark.html"><img src="1.png" alt="画像1">ブックマーク</a></li>
 <li><a href="/message.html"><img src="2.png" alt="画像2">メッセージ</a></li>
</ul>
```

こちらの出力になるようにしてください

## 6

5で作ったものを3秒後に解決されるようにしてください

## 7

loadingを実装してみてください。
このようなローディング実装を作ってください。

<img src="https://terracetech.jp/wp-content/uploads/2020/10/a-3.gif" />

resolveになるまでの間にloading画像をだして、終わったら除く
今持っている知識でできるはずです。
どうすればできそうか書く前に考えましょう。
これはサーバーから値が渡ってくるまではそれを出して、渡ってきたら値を加工してhtmlとして書き出すを想定しています
[素材はこちら](https://terracetech.jp/download/gif-loading-image/)

## 8

つぎはresolveで解決するのではなく(resolveを実行するのではなく)
3秒後にrejectを実行してthenでその値をコンソール出力してください。ローディングはぐるぐる状態で良いです。

いままでresolveとしていたところでrejectを実行して、エラーを起こしてcatch節でエラーをキャッチしてください

## 9

async awaitを使って同じことをやってください。rejectは考慮しないでいいです。問題7をasync awaitを使って書いてください

## 10

問題9に追加で
try-catch-finaliy
を書いてください

## 11

簡易的なAPIを使って同じことをこちらの[サイト](https://json.okiba.me/)に

```js
{ "data": [
  {
    "a": "bookmark",
    "img": "img/1.png",
    "alt": "画像１",
    "text": "ブックマーク"
  },
  {
    "a": "message",
    "img": "img/2.png",
    "alt": "画像２",
    "text": "メッセージ"
  }
]}
```

上記を登録してエンドポイントを取得
前回までのコードを生かして
[fetch](https://developer.mozilla.org/ja/docs/Web/API/Fetch_API/Using_Fetch)を使ってデータを取得してください

取得したデータは前回と同じように表示してください

## 12

クリックしたらリクエストをして、それらが表示されるようにしてください

## 13

クリックしたらモーダルが出てきて、12で作ったボタンを押したらリクエストされ表示するようにしてください

## 14

13で作ったモーダル内にinput (typeはnumber)をおいて、クリックした際にinput(type number)のvalueを取得して、リクエストできるようにしてください。(その値はPromiseを実行する手前でconsole.log出力されていればいいです)

## 16

モーダル内に
formをおいて、input(type number)値、input(type text)、を新たに作ったsubmitボタン押下で
リクエスト、
APIから値を取ってきてください

<img src="https://kenjimorita.jp/wp-content/uploads/2021/01/fff.png" width="600" />

## 17

<img src="https://kenjimorita.jp/wp-content/uploads/2021/01/P1.png" width="600" />


これはyahooのトップページに似たUIですが、これをデータとしてどのようなものがサーバーがから返ってくれば実現できそうか、データ構造から考えて、静的なデータ(前回までのようなresolveされると返されるベタ書きのデータ)を作って、画面表示させてみてください。

仕様は
-  それぞれのカテゴリタブを開くことができてそれぞれのジャンルに応じた記事が4つ表示できる。(記事のタイトル名は適当)
- それぞれのカテゴリにはそれぞれ固有の画像が入る(右側四角。画像は適当)
- 記事にはnewという新着かどうかのラベルがつく(どこの記事にそれが入るかは適当でいいです)
-  記事にはそれぞれコメントがあり、0件なら表示しない、1以上ならアイコンと共に数字が表示される
- カテゴリタブは切り替えられる。面倒なら2つのカテゴリだけでよいです。その場合ニュースと経済だけにします
- どのカテゴリタブを初期表示時に選んでいるかはデータとして持っている
-  htmlはulだけ作ってあとはcreateElementで作る
- try-catchでエラー時はulの中に「ただいまサーバー側で通信がぶっ壊れています」みたいなテキストを画面内に表示すること
- CSSはなしで良い。上記機能要件だけ満たしていればいい


です

## 18

よくあるスライドショーを作ってみましょう

<img src="https://terracetech.jp/wp-content/uploads/2021/02/もりけんじゅく-P1-6.png" />

- 仕様

1. 画面遷移してから3秒後に解決されるPromiseが返すオブジェクトを元にimgタグを5つつくる。

[以前使ったこちらを使う](https://json.okiba.me/)

2. それぞれは.z-indexで重ねた状態。クリックを押すと画像が変わる

3. 5枚中何枚目かを表示して、5/5の場合Nextの矢印はdisabledにする。1/5枚の時はBackボタンはdisabledにする

## 18

実際に公開されているAPIに触れてみましょう

[news API](https://newsapi.org/)

[getStarted](https://newsapi.org/docs/get-started)


```js
const proxyUrl = "https://cors-anywhere.herokuapp.com/" // localhostでリクエストするためのもの see: https://stackoverflow.com/a/43881141
const apiKey = "";
const url = `${proxyUrl}http://newsapi.org/v2/top-headlines?` +
          'country=us&' +
          'apiKey=[your-api]';
const request = new Request(url);

fetch(request)
  .then(response => response.json())
  .then((news) => {
    console.log(news);
  })
  .catch(error => {
    console.log(error);
  });

```

cd next-swr-app

yarn install

[see](https://dev.to/ibrahima92/data-fetching-in-next-js-how-to-use-swr-34gn#what-is-swr)


code .

yarn dev